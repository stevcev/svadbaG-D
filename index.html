<!DOCTYPE html>
<html lang="mk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–æ—Ä–¥–∞–Ω–∞ & –î–∏–º–∏—Ç–∞—Ä - 29.08.2026</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Montserrat:wght@300;400;700&family=Playfair+Display:ital@0;1&display=swap" rel="stylesheet">
    
    <style>
        :root { 
            --accent: #d4a3a3; 
            --text: #4a4a4a; 
            --bg: #fff9f9; 
            --shadow: 0 10px 30px rgba(212, 163, 163, 0.15);
            --ig-blue: #0077b5;
            --ig-pink: #d62976;
        }
        
        body { 
            font-family: 'Montserrat', sans-serif; 
            margin: 0; padding: 0; color: var(--text);
            overflow-x: hidden; 
            background-image: url('https://lh3.googleusercontent.com/d/1Hs4OphR5xPDy8mIaD41I6Q3Z1ZJcH4S7');
            background-repeat: no-repeat;
            background-attachment: fixed;
            background-position: right bottom; 
            background-size: 320px;
        }

        .full-background {
            position: fixed;
            top: -50%; left: -50%; width: 200%; height: 200%;
            background-image: url('https://lh3.googleusercontent.com/d/1F6TSVTgcEkCIyJ9WEon-0r-GG1VCVF-n');
            background-size: cover; background-position: center; background-repeat: repeat;
            transform: rotate(-10deg) scale(1.2);
            z-index: -5; opacity: 0.6;
        }

        @media (max-width: 600px) { 
            body { background-size: 150px; } 
            .full-background { transform: rotate(-10deg) scale(1.5); }
        }

        .page { display: none; padding: 20px; animation: fadeIn 0.8s ease-in-out; text-align: center; position: relative; z-index: 1; }
        .active { display: block; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .main-header-img { transition: all 0.5s ease; display: block; margin: 10px auto; max-width: 95%; }
        .img-large { width: 600px; }
        .img-small { width: 240px; }

        .hero h2 { font-family: 'Playfair Display', serif; font-size: 1.2rem; font-style: italic; letter-spacing: 2px; background: rgba(255,255,255,0.7); display: inline-block; padding: 5px 15px; border-radius: 10px; }
        
        .timer-container { margin: 20px auto; background: rgba(255, 255, 255, 0.9); padding: 15px; border-radius: 15px; max-width: 400px; border: 1px solid var(--accent); box-shadow: var(--shadow); }
        #countdown { font-family: 'Playfair Display', serif; font-size: 1.4rem; font-weight: bold; }
        
        .nav-buttons { 
            display: grid; 
            grid-template-columns: repeat(2, 1fr); 
            gap: 12px; 
            max-width: 600px; 
            margin: 20px auto; 
        }

        .btn { 
            width: 100%; padding: 14px 5px; font-size: 12px; border: 1px solid var(--accent); background: white; 
            color: var(--text); cursor: pointer; border-radius: 5px; transition: 0.4s; font-weight: bold; 
            letter-spacing: 0.5px; text-decoration: none; display: flex; align-items: center; justify-content: center; box-sizing: border-box; 
        }
        .btn:hover { background: var(--accent); color: white; transform: translateY(-2px); }
        
        .ig-container { display: flex; justify-content: center; gap: 15px; margin: 20px auto; flex-wrap: wrap; }
        .btn-ig { width: 160px; color: white; border: none; font-size: 11px; padding: 12px; border-radius: 5px; font-weight: bold; text-decoration: none; }
        .btn-ig-blue { background-color: var(--ig-blue); }
        .btn-ig-pink { background-color: var(--ig-pink); }

        /* Language Toggle Styles */
        .lang-toggle-container { margin: 20px auto; display: flex; justify-content: center; gap: 8px; flex-wrap: wrap; max-width: 600px; }
        .btn-lang { padding: 8px 12px; font-size: 11px; border: 1px solid var(--accent); background: white; border-radius: 20px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-lang.active-lang { background: var(--accent); color: white; }

        .content-box { max-width: 600px; margin: auto; background: rgba(255, 255, 255, 0.97); padding: 25px; border-radius: 10px; box-shadow: var(--shadow); border: 1px solid #f2e4e4; }
        .btn-back { margin-top: 25px; background: none; border: none; color: var(--accent); text-decoration: underline; cursor: pointer; display: block; margin-left: auto; margin-right: auto; font-weight: bold; }
        
        input, textarea, select { width: 95%; padding: 12px; margin: 10px 0; border: 1px solid var(--accent); border-radius: 5px; font-family: 'Montserrat', sans-serif; font-size: 16px; }
        
        @keyframes emojiBurst {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.5); opacity: 1; }
            100% { transform: scale(1); opacity: 1; }
        }
        .animated-emoji { display: inline-block; animation: emojiBurst 0.6s cubic-bezier(0.17, 0.67, 0.83, 1.67) forwards; }

        .hamburger { font-size: 35px; cursor: pointer; position: fixed; top: 15px; left: 20px; z-index: 100; color: var(--accent); display: none; background: rgba(255,255,255,0.8); padding: 5px 12px; border-radius: 8px; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
        .sidenav { height: 100%; width: 0; position: fixed; z-index: 101; top: 0; left: 0; background-color: #fff; overflow-x: hidden; transition: 0.5s; padding-top: 60px; box-shadow: 2px 0 15px rgba(0,0,0,0.1); }
        .sidenav a { padding: 12px 32px; text-decoration: none; font-size: 18px; color: var(--text); display: block; transition: 0.3s; font-family: 'Playfair Display', serif; border-bottom: 1px solid #f9f9f9; }
        .sidenav a:hover { color: var(--accent); background: #fef9f9; }
        .sidenav .closebtn { position: absolute; top: 10px; right: 25px; font-size: 36px; border-bottom: none; }

        #suggestionBox { display: none; margin-top: 15px; padding: 12px; background-color: #fff0f0; border: 1px dashed var(--accent); border-radius: 8px; text-align: left; }
        .suggestion-link { color: var(--accent); font-weight: bold; text-decoration: underline; cursor: pointer; }

        #gbFormContainer { display: none; margin-bottom: 25px; padding: 20px; background: #fffcfc; border: 1px solid var(--accent); border-radius: 8px; }
        
        .menu-item { border-bottom: 1px dashed var(--accent); padding: 15px 0; }
        .menu-item strong { color: var(--accent); display: block; font-size: 1.1rem; margin-bottom: 4px; }

        .home-msg-item { background: white; padding: 10px; margin-bottom: 8px; border-radius: 5px; border-left: 3px solid var(--accent); text-align: left; font-size: 0.9rem; }

        .search-group { position: relative; width: 100%; text-align: left; }
        .dropdown-suggestions {
            position: absolute; top: 100%; left: 0; width: 95%; background: white;
            border: 1px solid var(--accent); border-top: none; z-index: 1000;
            max-height: 150px; overflow-y: auto; display: none; border-radius: 0 0 5px 5px;
            box-shadow: var(--shadow);
        }
        .dropdown-suggestions div { padding: 10px; cursor: pointer; border-bottom: 1px solid #eee; }
        .dropdown-suggestions div:hover { background: #fff4f4; }

        #messagesList { text-align: left; }
    </style>
</head>
<body>

    <div class="full-background"></div>

    <span id="navIcon" class="hamburger" onclick="openNav()">‚ò∞</span>

    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">√ó</a>
        <a href="#" onclick="showPage('homePage'); closeNav()" data-key="nav_home">–ü–æ—á–µ—Ç–Ω–∞</a>
        <a href="#" onclick="showPage('tablePage'); closeNav()" data-key="nav_table">–ù–∞—ò–¥–∏ –º–∞—Å–∞</a>
        <a href="#" onclick="showPage('locationPage'); closeNav()" data-key="nav_location">–õ–æ–∫–∞—Ü–∏—ò–∞</a>
        <a href="#" onclick="showPage('menuPage'); closeNav()" data-key="nav_menu">–ú–µ–Ω–∏</a>
        <a href="#" onclick="showPage('bandPage'); closeNav()" data-key="nav_music">–ú—É–∑–∏–∫–∞</a>
        <a href="#" onclick="showPage('galleryPage'); closeNav()" data-key="nav_gallery">–ì–∞–ª–µ—Ä–∏—ò–∞</a>
        <a href="#" onclick="showPage('guestbookPage'); closeNav()" data-key="nav_guestbook">–í–ø–µ—á–∞—Ç–æ—Ü–∏</a>
    </div>

    <img id="mainLogo" src="https://lh3.googleusercontent.com/d/1yipa967Mr0LG5l5I6H3im9NQV3clCiId" class="main-header-img img-large" alt="–ì–æ—Ä–¥–∞–Ω–∞ –∏ –î–∏–º–∏—Ç–∞—Ä">

    <div id="homePage" class="page active">
        <div class="hero">
            <h2 data-key="wedding_date">29.08.2026 ‚Ä¢ 19:00—á</h2>
            <div class="timer-container"><div id="countdown" data-key="loading">–°–µ –≤—á–∏—Ç–∞–≤—É–≤–∞...</div></div>
            
            <div style="max-width:600px; margin: 30px auto; padding: 25px; border-top: 1px solid var(--accent); background: rgba(255,255,255,0.85); border-radius: 12px; box-shadow: var(--shadow);">
                <h3 style="font-family: 'Great Vibes', cursive; font-size: 2.8rem; color: var(--accent); margin-bottom: 10px;" data-key="story_title">–ù–∞—à–∞—Ç–∞ –ü—Ä–∏–∫–∞–∑–Ω–∞</h3>
                <p style="font-style: italic; color: #555; line-height: 1.6;" data-key="story_text">
                    –î–æ–±—Ä–µ–¥–æ—ò–¥–æ–≤—Ç–µ –≤–æ –Ω–∞—à–∞—Ç–∞ –¥–∏–≥–∏—Ç–∞–ª–Ω–∞ –ø–æ–∫–∞–Ω–∞! –°–µ —Ä–∞–¥—É–≤–∞–º–µ —à—Ç–æ —ú–µ –≥–æ —Å–ø–æ–¥–µ–ª–∏–º–µ –æ–≤–æ—ò –ø–æ—Å–µ–±–µ–Ω –¥–µ–Ω —Å–æ –≤–∞—Å. 
                    –û–≤–¥–µ –º–æ–∂–µ—Ç–µ –¥–∞ –≥–∏ –Ω–∞—ò–¥–µ—Ç–µ —Å–∏—Ç–µ –ø–æ—Ç—Ä–µ–±–Ω–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∑–∞ –ø—Ä–æ—Å–ª–∞–≤–∞—Ç–∞, –¥–∞ –≥–æ –≤–∏–¥–∏—Ç–µ –º–µ–Ω–∏—Ç–æ –∏–ª–∏ –¥–∞ –Ω–∏ –æ—Å—Ç–∞–≤–∏—Ç–µ –ø–æ—Ä–∞–∫–∞.
                </p>
            </div>

            <div class="nav-buttons">
                <button class="btn" onclick="showPage('tablePage')" data-key="btn_find_table">–ù–ê–à–î–ò –à–ê –¢–í–û–à–ê–¢–ê –ú–ê–°–ê</button>
                <button class="btn" onclick="showPage('locationPage')" data-key="btn_location">–õ–û–ö–ê–¶–ò–à–ê</button>
                <button class="btn" onclick="showPage('menuPage')" data-key="btn_menu">–ü–û–ì–õ–ï–î–ù–ò –ì–û –ú–ï–ù–ò–¢–û</button>
                <button class="btn" onclick="showPage('bandPage')" data-key="btn_party">–ó–ê –ó–ê–ë–ê–í–ê–¢–ê</button>
                <button class="btn" onclick="showPage('galleryPage')" data-key="btn_gallery">–ì–ê–õ–ï–†–ò–à–ê –°–û –°–õ–ò–ö–ò</button>
                <button class="btn" onclick="showPage('guestbookPage')" data-key="btn_guestbook">–ö–ù–ò–ì–ê –ù–ê –í–ü–ï–ß–ê–¢–û–¶–ò</button>
            </div>

            <div style="max-width:600px; margin: 20px auto; padding: 15px;">
                <h4 style="font-family: 'Playfair Display', serif; color: var(--accent);" data-key="latest_wishes">–ù–∞—ò–Ω–æ–≤–∏ –∂–µ–ª–±–∏</h4>
                <div id="homeMessages" data-key="loading">–°–µ –≤—á–∏—Ç–∞–≤—É–≤–∞–∞—Ç...</div>
                <button class="btn-back" style="text-decoration: none; font-size: 0.9rem;" onclick="showPage('guestbookPage')" data-key="view_all">–í–∏–¥–µ—Ç–µ –≥–∏ —Å–∏—Ç–µ –≤–ø–µ—á–∞—Ç–æ—Ü–∏ ‚Üí</button>
                
                <div class="ig-container">
                    <a href="https://www.instagram.com/stevcev_/" target="_blank" class="btn-ig btn-ig-blue">DIMITAR INSTAGRAM</a>
                    <a href="https://www.instagram.com/gordanastevceva/" target="_blank" class="btn-ig btn-ig-pink">GORDANA INSTAGRAM</a>
                </div>

                <div class="lang-toggle-container">
                    <button class="btn-lang active-lang" onclick="changeLang('mk')">MK</button>
                    <button class="btn-lang" onclick="changeLang('en')">EN</button>
                    <button class="btn-lang" onclick="changeLang('hr')">HR</button>
                    <button class="btn-lang" onclick="changeLang('sr')">SR</button>
                    <button class="btn-lang" onclick="changeLang('sq')">SQ</button>
                </div>
            </div>
        </div>
    </div>

    <div id="locationPage" class="page">
        <div class="content-box">
            <h2 style="font-family: 'Great Vibes', cursive; font-size: 3rem; color: var(--accent);" data-key="nav_location">–õ–æ–∫–∞—Ü–∏—ò–∞</h2>
            <p data-key="loc_text">–ü—Ä–æ—Å–ª–∞–≤–∞—Ç–∞ —ú–µ —Å–µ –æ–¥—Ä–∂–∏ –≤–æ:</p>
            <h3 style="font-family: 'Playfair Display', serif;">–†–µ—Å—Ç–æ—Ä–∞–Ω Leona Lux Cristal –†–∞–¥–æ–≤–∏—à</h3>
            <div style="margin: 20px 0; border-radius: 10px; overflow: hidden; height: 300px; background: #eee;">
                 <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2983.834017726353!2d22.518604075845014!3d41.63773177126938!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x1355913259929e0b%3A0xe962e205562095f7!2sLeona%20Lux%20Cristal!5e0!3m2!1sen!2smk!4v1715858000000!5m2!1sen!2smk" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
            <a href="https://maps.app.goo.gl/9S4C3yV9kR1R1" target="_blank" class="btn" style="width: 100%; background: var(--accent); color: white;" data-key="btn_open_maps">–û–¢–í–û–†–ò –í–û GOOGLE MAPS</a>
            <button class="btn-back" onclick="showPage('homePage')" data-key="back">‚Üê –ù–ê–ó–ê–î</button>
        </div>
    </div>

    <div id="tablePage" class="page">
        <div class="content-box">
            <h2 style="font-family: 'Playfair Display', serif; color: var(--accent);" data-key="table_title">–í–∞—à–∞—Ç–∞ –ú–∞—Å–∞</h2>
            <p data-key="table_desc">–í–Ω–µ—Å–µ—Ç–µ –≥–æ –≤–∞—à–µ—Ç–æ –∏–º–µ –∑–∞ –¥–∞ –¥–æ–∑–Ω–∞–µ—Ç–µ –∫–∞–¥–µ —Å–µ–¥–∏—Ç–µ.</p>
            <input type="text" id="guestNameSearch" data-placeholder="input_name_placeholder">
            <button class="btn" style="width:100%; background: var(--accent); color: white;" onclick="findTable()" data-key="search">–ü–†–ï–ë–ê–†–ê–à</button>
            <div id="suggestionBox"><span data-key="did_you_mean">–î–∞–ª–∏ –º–∏—Å–ª–µ–≤—Ç–µ –Ω–∞:</span> <span id="suggestedName" class="suggestion-link" onclick="applySuggestion()"></span> ?</div>
            <div id="result" style="display:none; margin-top: 25px;">
                <h3 id="welcomeMsg" style="font-family: 'Great Vibes', cursive; font-size: 2.2rem; color: var(--accent);"></h3>
                <div style="font-size: 2.5rem; font-weight: bold; color: var(--text); margin: 10px 0;" id="tableNumResult"></div>
                <div id="otherGuests" style="text-align: left; padding: 15px; background: #fff9f9; border-left: 4px solid var(--accent); margin-top: 15px; border-radius: 4px;"></div>
            </div>
            <button class="btn-back" onclick="showPage('homePage')" data-key="back">‚Üê –ù–ê–ó–ê–î</button>
        </div>
    </div>

    <div id="menuPage" class="page">
        <div class="content-box">
            <h2 style="font-family: 'Great Vibes', cursive; font-size: 3.5rem; color: var(--accent);" data-key="menu_title">–°–≤–∞–¥–±–µ–Ω–æ –ú–µ–Ω–∏</h2>
            <div style="text-align: left; margin-top: 20px;">
                <div class="menu-item"><strong data-key="menu_1_t">üç∏ –î–æ–±—Ä–µ–¥–æ—ò–¥–µ</strong> <span data-key="menu_1_c">–ê–ø–µ—Ä–∏—Ç–∏–≤ –∏ –∫–æ–∫—Ç–µ–ª –∑–∞ –¥–æ–±—Ä–µ–¥–æ—ò–¥–µ —Å–æ –ª–∞–¥–Ω–∏ –∫–∞—Å–Ω–∞—Ü–∏.</span></div>
                <div class="menu-item"><strong data-key="menu_2_t">ü•ó –°–∞–ª–∞—Ç–∞</strong> <span data-key="menu_2_c">–®–æ–ø—Å–∫–∞ —Å–∞–ª–∞—Ç–∞ —Å–æ —Å–≤–µ–∂–æ –æ–≤—á–æ —Å–∏—Ä–µ—ö–µ –∏ –º–∞–∫–µ–¥–æ–Ω—Å–∫–∞ –¥–∞—Å–∫–∞ (–ø—Ä—à—É—Ç, –∫–∞—à–∫–∞–≤–∞–ª, –∞—ò–≤–∞—Ä, –º–∞—Å–ª–∏–Ω–∫–∏).</span></div>
                <div class="menu-item"><strong data-key="menu_3_t">üßÄ –¢–æ–ø–ª–æ –ø—Ä–µ–¥—ò–∞–¥–µ—ö–µ</strong> <span data-key="menu_3_c">–°–∞—Ä–º–∏—á–∫–∏ –≤–æ –ª–æ–∑–æ–≤ –ª–∏—Å—Ç –∏ –¥–æ–º–∞—à–µ–Ω –ø–æ—Ö—É–≤–∞–Ω –∫–∞—à–∫–∞–≤–∞–ª.</span></div>
                <div class="menu-item"><strong data-key="menu_4_t">üçñ –ì–ª–∞–≤–Ω–æ —ò–∞–¥–µ—ö–µ</strong> <span data-key="menu_4_c">–ú–µ—à–∞–Ω–∞ —Å–∫–∞—Ä–∞ (–ø–ª–µ—Å–∫–∞–≤–∏—Ü–∞, –ø–∏–ª–µ—à–∫–∏ —Å—Ç–µ–∫, –≤–µ—à–∞–ª–∏—Ü–∞) —Å–æ –≥–∞—Ä–Ω–∏—Ä –æ–¥ –ø–µ—á–µ–Ω –∫–æ–º–ø–∏—Ä –∏ –∑–µ–ª–µ–Ω—á—É–∫.</span></div>
                <div class="menu-item"><strong data-key="menu_5_t">üç∞ –î–µ—Å–µ—Ä—Ç</strong> <span data-key="menu_5_c">–°–≤–µ—á–µ–Ω–∞ —Å–≤–∞–¥–±–µ–Ω–∞ —Ç–æ—Ä—Ç–∞ –∏ —Å–≤–µ–∂–æ —Å–µ–∑–æ–Ω—Å–∫–æ –æ–≤–æ—à—ò–µ.</span></div>
            </div>
            <button class="btn-back" onclick="showPage('homePage')" data-key="back">‚Üê –ù–ê–ó–ê–î</button>
        </div>
    </div>

    <div id="bandPage" class="page">
        <div class="content-box">
            <h2 style="font-family: 'Great Vibes', cursive; font-size: 3.5rem; color: var(--accent);" data-key="nav_music">–ú—É–∑–∏–∫–∞</h2>
            <p data-key="music_desc">–ó–∞ –ø–æ–¥–∏—É–º–æ—Ç –¥–∞ –±–∏–¥–µ –ø–æ—Å—Ç–æ—ò–∞–Ω–æ –ø–æ–ª–Ω –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞—Ç–∞ –Ω–µ–∑–∞–±–æ—Ä–∞–≤–Ω–∞, –∑–∞–¥–æ–ª–∂–µ–Ω–∏ —Å–µ –Ω–∞—à–∏—Ç–µ –ø—Ä–∏—ò–∞—Ç–µ–ª–∏:</p>
            <h3 style="color: var(--accent); font-family: 'Playfair Display', serif; font-size: 1.8rem; margin: 20px 0;">–ë–ï–ù–î –ü–ê–ù–¢–ê –†–ï–ò</h3>
            <p data-key="shoes_text">–ü–æ–¥–≥–æ—Ç–≤–µ—Ç–µ –≥–∏ —É–¥–æ–±–Ω–∏—Ç–µ —á–µ–≤–ª–∏!</p>
            <div style="display: flex; flex-direction: column; gap: 10px; align-items: center; margin-top: 20px;">
                <a href="https://www.facebook.com/pantareiband/" target="_blank" class="btn" style="background: #3b5998; color: white; border: none;" data-key="fb_profile">–§–ï–à–°–ë–£–ö –ü–†–û–§–ò–õ</a>
                <a href="https://www.instagram.com/panta_rei_band/" target="_blank" class="btn" style="background: #e1306c; color: white; border: none;" data-key="ig_profile">–ò–ù–°–¢–ê–ì–†–ê–ú –ü–†–û–§–ò–õ</a>
            </div>
            <button class="btn-back" onclick="showPage('homePage')" data-key="back">‚Üê –ù–ê–ó–ê–î</button>
        </div>
    </div>

    <div id="galleryPage" class="page">
        <div class="content-box" style="max-width: 850px;">
            <h2 style="font-family: 'Great Vibes', cursive; font-size: 3.5rem; color: var(--accent);" data-key="nav_gallery">–ì–∞–ª–µ—Ä–∏—ò–∞</h2>
            <iframe src="https://drive.google.com/embeddedfolderview?id=1myuoQARxyfqchMvi-iQaDL5-lJh9BMBkILR7LhTXvcquzGL-l0h0IWaqsRYrVlwF60G3wEiM#grid" style="width: 100%; height: 450px; border: none; border-radius: 10px; background: #f9f9f9; box-shadow: inset 0 0 10px rgba(0,0,0,0.05);"></iframe>
            <div style="margin-top: 30px; padding: 25px; border: 2px dashed var(--accent); border-radius: 12px; background: #fffcfc;">
                <h4 style="margin-top: 0;" data-key="gallery_share_title">–°–ø–æ–¥–µ–ª–µ—Ç–µ –º–æ–º–µ–Ω—Ç–∏ —Å–æ –Ω–∞—Å</h4>
                <p style="font-size: 0.9rem;" data-key="gallery_share_desc">–î–æ–∫–æ–ª–∫—É –∏–º–∞—Ç–µ —Å–ª–∏–∫–∏ –æ–¥ –∑–∞–±–∞–≤–∞—Ç–∞ –∫–æ–∏ —Å–∞–∫–∞—Ç–µ –¥–∞ –Ω–∏ –≥–∏ –∏—Å–ø—Ä–∞—Ç–∏—Ç–µ, –ø—Ä–∏—Ç–∏—Å–Ω–µ—Ç–µ –Ω–∞ –∫–æ–ø—á–µ—Ç–æ –ø–æ–¥–æ–ª—É.</p>
                <div id="uploadCaptchaArea">
                    <canvas id="uploadCaptchaCanvas" width="150" height="50" onclick="generateUploadCaptcha()" style="cursor:pointer; border:1px solid #ddd; border-radius: 5px; background: white;"></canvas>
                    <input type="text" id="uploadCaptchaInput" data-placeholder="captcha_placeholder">
                    <button class="btn" style="width:100%; background: var(--accent); color: white;" onclick="verifyAndUpload()" data-key="btn_upload">–ü–†–ò–ö–ê–ß–ò –§–ê–à–õ–û–í–ò</button>
                </div>
                <div id="uploadLink" style="display: none; animation: fadeIn 0.5s;">
                    <p style="color: #2e7d32; font-weight: bold;" data-key="captcha_correct">‚úÖ –ö–æ–¥–æ—Ç –µ —Ç–æ—á–µ–Ω!</p>
                    <a href="https://docs.google.com/forms/d/e/1FAIpQLSe6-d0ZnfiLBh57pvsQNZAPXI3jB9RKg3oOJaupEsww6X2Qyg/viewform" target="_blank" class="btn" style="width: 100%; background: #2e7d32; color: white; border: none;" data-key="click_to_upload">–ö–õ–ò–ö–ù–ò –¢–£–ö–ê –ó–ê –ü–†–ò–ö–ê–ß–£–í–ê–ä–ï</a>
                </div>
            </div>
            <button class="btn-back" onclick="showPage('homePage')" data-key="back">‚Üê –ù–ê–ó–ê–î</button>
        </div>
    </div>

    <div id="guestbookPage" class="page">
        <div class="content-box">
            <h2 style="font-family: 'Great Vibes', cursive; font-size: 3.5rem; color: var(--accent);" data-key="guestbook_title">–í–∞—à–∏—Ç–µ –ñ–µ–ª–±–∏</h2>
            <button id="togglePostBtn" class="btn" style="margin-bottom: 20px; background: var(--accent); color: white; width: 100%;" onclick="toggleGbForm()" data-key="btn_new_post">‚ú® –ù–û–í–ê –û–ë–à–ê–í–ê</button>
            <div id="gbFormContainer">
                <div style="text-align: left;">
                    <label><strong data-key="label_table">–ú–∞—Å–∞:</strong></label>
                    <select id="gbTableSelect" onchange="resetGbNameField()">
                        <option value="" data-key="opt_choose_table">–ò–∑–±–µ—Ä–∏ –º–∞—Å–∞...</option>
                        </select>

                    <label><strong data-key="label_name">–í–∞—à–µ—Ç–æ –∏–º–µ:</strong></label>
                    <div class="search-group">
                        <input type="text" id="gbNameInput" data-placeholder="gb_name_placeholder" oninput="handleGbSearch(this.value)" autocomplete="off">
                        <div id="gbDropdown" class="dropdown-suggestions"></div>
                    </div>

                    <label><strong data-key="label_msg">–í–∞—à–∞—Ç–∞ –ø–æ—Ä–∞–∫–∞:</strong></label>
                    <textarea id="gbMessageInput" rows="4" data-placeholder="gb_msg_placeholder"></textarea>
                    
                    <button class="btn" style="width:100%; background: var(--accent); color: white;" onclick="postMessage()" data-key="btn_publish">–û–ë–à–ê–í–ò</button>
                    <div id="postStatus" style="display:none; margin-top:15px; padding:10px; border-radius:5px; font-weight:bold; text-align:center;"></div>
                    <button class="btn-back" onclick="toggleGbForm()" data-key="cancel">–û—Ç–∫–∞–∂–∏</button>
                </div>
            </div>
            <div id="messagesList" data-key="loading">–°–µ –≤—á–∏—Ç–∞–≤—É–≤–∞–∞—Ç –ø–æ—Ä–∞–∫–∏—Ç–µ...</div>
            <button class="btn-back" onclick="showPage('homePage')" data-key="back">‚Üê –ù–ê–ó–ê–î</button>
        </div>
    </div>

    <script>
        const translations = {
            mk: {
                nav_home: "–ü–æ—á–µ—Ç–Ω–∞", nav_table: "–ù–∞—ò–¥–∏ –º–∞—Å–∞", nav_location: "–õ–æ–∫–∞—Ü–∏—ò–∞", nav_menu: "–ú–µ–Ω–∏", nav_music: "–ú—É–∑–∏–∫–∞", nav_gallery: "–ì–∞–ª–µ—Ä–∏—ò–∞", nav_guestbook: "–í–ø–µ—á–∞—Ç–æ—Ü–∏",
                wedding_date: "29.08.2026 ‚Ä¢ 19:00—á", loading: "–°–µ –≤—á–∏—Ç–∞–≤—É–≤–∞...", story_title: "–ù–∞—à–∞—Ç–∞ –ü—Ä–∏–∫–∞–∑–Ω–∞", story_text: "–î–æ–±—Ä–µ–¥–æ—ò–¥–æ–≤—Ç–µ –≤–æ –Ω–∞—à–∞—Ç–∞ –¥–∏–≥–∏—Ç–∞–ª–Ω–∞ –ø–æ–∫–∞–Ω–∞! –°–µ —Ä–∞–¥—É–≤–∞–º–µ —à—Ç–æ —ú–µ –≥–æ —Å–ø–æ–¥–µ–ª–∏–º–µ –æ–≤–æ—ò –ø–æ—Å–µ–±–µ–Ω –¥–µ–Ω —Å–æ –≤–∞—Å. –û–≤–¥–µ –º–æ–∂–µ—Ç–µ –¥–∞ –≥–∏ –Ω–∞—ò–¥–µ—Ç–µ —Å–∏—Ç–µ –ø–æ—Ç—Ä–µ–±–Ω–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∑–∞ –ø—Ä–æ—Å–ª–∞–≤–∞—Ç–∞, –¥–∞ –≥–æ –≤–∏–¥–∏—Ç–µ –º–µ–Ω–∏—Ç–æ –∏–ª–∏ –¥–∞ –Ω–∏ –æ—Å—Ç–∞–≤–∏—Ç–µ –ø–æ—Ä–∞–∫–∞.",
                btn_find_table: "–ù–ê–à–î–ò –à–ê –¢–í–û–à–ê–¢–ê –ú–ê–°–ê", btn_location: "–õ–û–ö–ê–¶–ò–à–ê", btn_menu: "–ü–û–ì–õ–ï–î–ù–ò –ì–û –ú–ï–ù–ò–¢–û", btn_party: "–ó–ê –ó–ê–ë–ê–í–ê–¢–ê", btn_gallery: "–ì–ê–õ–ï–†–ò–à–ê –°–û –°–õ–ò–ö–ò", btn_guestbook: "–ö–ù–ò–ì–ê –ù–ê –í–ü–ï–ß–ê–¢–û–¶–ò",
                latest_wishes: "–ù–∞—ò–Ω–æ–≤–∏ –∂–µ–ª–±–∏", view_all: "–í–∏–¥–µ—Ç–µ –≥–∏ —Å–∏—Ç–µ –≤–ø–µ—á–∞—Ç–æ—Ü–∏ ‚Üí", loc_text: "–ü—Ä–æ—Å–ª–∞–≤–∞—Ç–∞ —ú–µ —Å–µ –æ–¥—Ä–∂–∏ –≤–æ:", btn_open_maps: "–û–¢–í–û–†–ò –í–û GOOGLE MAPS", back: "‚Üê –ù–ê–ó–ê–î",
                table_title: "–í–∞—à–∞—Ç–∞ –ú–∞—Å–∞", table_desc: "–í–Ω–µ—Å–µ—Ç–µ –≥–æ –≤–∞—à–µ—Ç–æ –∏–º–µ –∑–∞ –¥–∞ –¥–æ–∑–Ω–∞–µ—Ç–µ –∫–∞–¥–µ —Å–µ–¥–∏—Ç–µ.", input_name_placeholder: "–ò–º–µ –∏ –ü—Ä–µ–∑–∏–º–µ", search: "–ü–†–ï–ë–ê–†–ê–à", did_you_mean: "–î–∞–ª–∏ –º–∏—Å–ª–µ–≤—Ç–µ –Ω–∞:",
                menu_title: "–°–≤–∞–¥–±–µ–Ω–æ –ú–µ–Ω–∏", menu_1_t: "üç∏ –î–æ–±—Ä–µ–¥–æ—ò–¥–µ", menu_1_c: "–ê–ø–µ—Ä–∏—Ç–∏–≤ –∏ –∫–æ–∫—Ç–µ–ª –∑–∞ –¥–æ–±—Ä–µ–¥–æ—ò–¥–µ —Å–æ –ª–∞–¥–Ω–∏ –∫–∞—Å–Ω–∞—Ü–∏.", menu_2_t: "ü•ó –°–∞–ª–∞—Ç–∞", menu_2_c: "–®–æ–ø—Å–∫–∞ —Å–∞–ª–∞—Ç–∞ —Å–æ —Å–≤–µ–∂–æ –æ–≤—á–æ —Å–∏—Ä–µ—ö–µ –∏ –º–∞–∫–µ–¥–æ–Ω—Å–∫–∞ –¥–∞—Å–∫–∞ (–ø—Ä—à—É—Ç, –∫–∞—à–∫–∞–≤–∞–ª, –∞—ò–≤–∞—Ä, –º–∞—Å–ª–∏–Ω–∫–∏).", menu_3_t: "üßÄ –¢–æ–ø–ª–æ –ø—Ä–µ–¥—ò–∞–¥–µ—ö–µ", menu_3_c: "–°–∞—Ä–º–∏—á–∫–∏ –≤–æ –ª–æ–∑–æ–≤ –ª–∏—Å—Ç –∏ –¥–æ–º–∞—à–µ–Ω –ø–æ—Ö—É–≤–∞–Ω –∫–∞—à–∫–∞–≤–∞–ª.", menu_4_t: "üçñ –ì–ª–∞–≤–Ω–æ —ò–∞–¥–µ—ö–µ", menu_4_c: "–ú–µ—à–∞–Ω–∞ —Å–∫–∞—Ä–∞ (–ø–ª–µ—Å–∫–∞–≤–∏—Ü–∞, –ø–∏–ª–µ—à–∫–∏ —Å—Ç–µ–∫, –≤–µ—à–∞–ª–∏—Ü–∞) —Å–æ –≥–∞—Ä–Ω–∏—Ä –æ–¥ –ø–µ—á–µ–Ω –∫–æ–º–ø–∏—Ä –∏ –∑–µ–ª–µ–Ω—á—É–∫.", menu_5_t: "üç∞ –î–µ—Å–µ—Ä—Ç", menu_5_c: "–°–≤–µ—á–µ–Ω–∞ —Å–≤–∞–¥–±–µ–Ω–∞ —Ç–æ—Ä—Ç–∞ –∏ —Å–≤–µ–∂–æ —Å–µ–∑–æ–Ω—Å–∫–æ –æ–≤–æ—à—ò–µ.",
                music_desc: "–ó–∞ –ø–æ–¥–∏—É–º–æ—Ç –¥–∞ –±–∏–¥–µ –ø–æ—Å—Ç–æ—ò–∞–Ω–æ –ø–æ–ª–Ω –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞—Ç–∞ –Ω–µ–∑–∞–±–æ—Ä–∞–≤–Ω–∞, –∑–∞–¥–æ–ª–∂–µ–Ω–∏ —Å–µ –Ω–∞—à–∏—Ç–µ –ø—Ä–∏—ò–∞—Ç–µ–ª–∏:", shoes_text: "–ü–æ–¥–≥–æ—Ç–≤–µ—Ç–µ –≥–∏ —É–¥–æ–±–Ω–∏—Ç–µ —á–µ–≤–ª–∏!", fb_profile: "–§–ï–à–°–ë–£–ö –ü–†–û–§–ò–õ", ig_profile: "–ò–ù–°–¢–ê–ì–†–ê–ú –ü–†–û–§–ò–õ",
                gallery_share_title: "–°–ø–æ–¥–µ–ª–µ—Ç–µ –º–æ–º–µ–Ω—Ç–∏ —Å–æ –Ω–∞—Å", gallery_share_desc: "–î–æ–∫–æ–ª–∫—É –∏–º–∞—Ç–µ —Å–ª–∏–∫–∏ –æ–¥ –∑–∞–±–∞–≤–∞—Ç–∞ –∫–æ–∏ —Å–∞–∫–∞—Ç–µ –¥–∞ –Ω–∏ –≥–∏ –∏—Å–ø—Ä–∞—Ç–∏—Ç–µ, –ø—Ä–∏—Ç–∏—Å–Ω–µ—Ç–µ –Ω–∞ –∫–æ–ø—á–µ—Ç–æ –ø–æ–¥–æ–ª—É.", captcha_placeholder: "–ö–æ–¥ –æ–¥ —Å–ª–∏–∫–∞—Ç–∞", btn_upload: "–ü–†–ò–ö–ê–ß–ò –§–ê–à–õ–û–í–ò", captcha_correct: "‚úÖ –ö–æ–¥–æ—Ç –µ —Ç–æ—á–µ–Ω!", click_to_upload: "–ö–õ–ò–ö–ù–ò –¢–£–ö–ê –ó–ê –ü–†–ò–ö–ê–ß–£–í–ê–ä–ï",
                guestbook_title: "–í–∞—à–∏—Ç–µ –ñ–µ–ª–±–∏", btn_new_post: "‚ú® –ù–û–í–ê –û–ë–à–ê–í–ê", label_table: "–ú–∞—Å–∞:", opt_choose_table: "–ò–∑–±–µ—Ä–∏ –º–∞—Å–∞...", label_name: "–í–∞—à–µ—Ç–æ –∏–º–µ:", gb_name_placeholder: "–ü–æ—á–Ω–∏ –¥–∞ –ø–∏—à—É–≤–∞—à...", label_msg: "–í–∞—à–∞—Ç–∞ –ø–æ—Ä–∞–∫–∞:", gb_msg_placeholder: "–ù–∞–ø–∏—à–µ—Ç–µ –Ω–µ—à—Ç–æ —É–±–∞–≤–æ...", btn_publish: "–û–ë–à–ê–í–ò", cancel: "–û—Ç–∫–∞–∂–∏",
                welcome_prefix: "–î–æ–±—Ä–µ–¥–æ—ò–¥–µ, ", table_prefix: "–ú–ê–°–ê ", mates_text: "–ù–∞ –∏—Å—Ç–∞—Ç–∞ –º–∞—Å–∞ —Å–µ–¥–∞—Ç:", err_name: "–í–Ω–µ—Å–µ—Ç–µ –∏–º–µ.", err_not_found: "–ò–º–µ—Ç–æ –Ω–µ –µ –ø—Ä–æ–Ω–∞—ò–¥–µ–Ω–æ.", status_sending: "–°–µ –∏—Å–ø—Ä–∞—ú–∞...", status_success: "–£—Å–ø–µ—à–Ω–æ –æ–±—ò–∞–≤–µ–Ω–æ!", status_error: "–ì—Ä–µ—à–∫–∞!", status_fill: "–ü–æ–ø–æ–ª–Ω–µ—Ç–µ –≥–∏ —Å–∏—Ç–µ –ø–æ–ª–∏—ö–∞!",
                days_short: "–¥", hours_short: "—á", mins_short: "–º", secs_short: "—Å"
            },
            en: {
                nav_home: "Home", nav_table: "Find Table", nav_location: "Location", nav_menu: "Menu", nav_music: "Music", nav_gallery: "Gallery", nav_guestbook: "Guestbook",
                wedding_date: "29.08.2026 ‚Ä¢ 7:00 PM", loading: "Loading...", story_title: "Our Story", story_text: "Welcome to our digital invitation! We are excited to share this special day with you. Here you can find all the necessary info, see the menu, or leave us a message.",
                btn_find_table: "FIND YOUR TABLE", btn_location: "LOCATION", btn_menu: "VIEW MENU", btn_party: "THE PARTY", btn_gallery: "PHOTO GALLERY", btn_guestbook: "GUESTBOOK",
                latest_wishes: "Latest Wishes", view_all: "View all wishes ‚Üí", loc_text: "The celebration will take place at:", btn_open_maps: "OPEN IN GOOGLE MAPS", back: "‚Üê BACK",
                table_title: "Your Table", table_desc: "Enter your name to find out where you are sitting.", input_name_placeholder: "First and Last Name", search: "SEARCH", did_you_mean: "Did you mean:",
                menu_title: "Wedding Menu", menu_1_t: "üç∏ Welcome", menu_1_c: "Aperitif and welcome cocktail with cold appetizers.", menu_2_t: "ü•ó Salad", menu_2_c: "Shopska salad with fresh sheep cheese and Macedonian board (prosciutto, cheese, ajvar, olives).", menu_3_t: "üßÄ Warm Appetizer", menu_3_c: "Vine leaf rolls (sarma) and homemade fried cheese.", menu_4_t: "üçñ Main Course", menu_4_c: "Mixed grill (burger, chicken steak, veshalica) with roasted potatoes and vegetables.", menu_5_t: "üç∞ Dessert", menu_5_c: "Wedding cake and fresh seasonal fruit.",
                music_desc: "To keep the dance floor full and the atmosphere unforgettable, our friends are in charge:", shoes_text: "Get your dancing shoes ready!", fb_profile: "FACEBOOK PROFILE", ig_profile: "INSTAGRAM PROFILE",
                gallery_share_title: "Share moments with us", gallery_share_desc: "If you have photos from the party you'd like to send us, click the button below.", captcha_placeholder: "Code from image", btn_upload: "UPLOAD FILES", captcha_correct: "‚úÖ Code is correct!", click_to_upload: "CLICK HERE TO UPLOAD",
                guestbook_title: "Your Wishes", btn_new_post: "‚ú® NEW POST", label_table: "Table:", opt_choose_table: "Choose table...", label_name: "Your Name:", gb_name_placeholder: "Start typing...", label_msg: "Your Message:", gb_msg_placeholder: "Write something beautiful...", btn_publish: "POST", cancel: "Cancel",
                welcome_prefix: "Welcome, ", table_prefix: "TABLE ", mates_text: "Seated at the same table:", err_name: "Please enter a name.", err_not_found: "Name not found.", status_sending: "Sending...", status_success: "Posted successfully!", status_error: "Error!", status_fill: "Please fill all fields!",
                days_short: "d", hours_short: "h", mins_short: "m", secs_short: "s"
            },
            hr: {
                nav_home: "Poƒçetna", nav_table: "Naƒëi stol", nav_location: "Lokacija", nav_menu: "Jelovnik", nav_music: "Glazba", nav_gallery: "Galerija", nav_guestbook: "Dojmovi",
                wedding_date: "29.08.2026 ‚Ä¢ 19:00h", loading: "Uƒçitavanje...", story_title: "Na≈°a priƒça", story_text: "Dobrodo≈°li u na≈°u digitalnu pozivnicu! Radujemo se ≈°to ƒáemo ovaj poseban dan podijeliti s vama. Ovdje mo≈æete pronaƒái sve informacije, vidjeti jelovnik ili nam ostaviti poruku.",
                btn_find_table: "NAƒêI SVOJ STOL", btn_location: "LOKACIJA", btn_menu: "POGLEDAJ JELOVNIK", btn_party: "O ZABAVI", btn_gallery: "GALERIJA SLIKA", btn_guestbook: "KNJIGA DOJMOVA",
                latest_wishes: "Najnovije ≈æelje", view_all: "Vidi sve dojmove ‚Üí", loc_text: "Proslava ƒáe se odr≈æati u:", btn_open_maps: "OTVORI U GOOGLE MAPS", back: "‚Üê NATRAG",
                table_title: "Va≈° stol", table_desc: "Unesite svoje ime kako biste saznali gdje sjedite.", input_name_placeholder: "Ime i prezime", search: "PRETRA≈ΩI", did_you_mean: "Jeste li mislili na:",
                menu_title: "Svadbeni jelovnik", menu_1_t: "üç∏ Dobrodo≈°lica", menu_1_c: "Aperitiv i koktel dobrodo≈°lice uz hladne zalogaje.", menu_2_t: "ü•ó Salata", menu_2_c: "≈†opska salata sa svje≈æim ovƒçjim sirom i makedonska daska (pr≈°ut, sir, ajvar, masline).", menu_3_t: "üßÄ Toplo predjelo", menu_3_c: "Sarmice u vinovoj lozi i domaƒái pohani sir.", menu_4_t: "üçñ Glavno jelo", menu_4_c: "Mije≈°ano meso s ro≈°tilja s prilogom od peƒçenog krumpira i povrƒáa.", menu_5_t: "üç∞ Desert", menu_5_c: "Sveƒçana svadbena torta i svje≈æe sezonsko voƒáe.",
                music_desc: "Za pun podij i nezaboravnu atmosferu zadu≈æeni su na≈°i prijatelji:", shoes_text: "Pripremite udobne cipele!", fb_profile: "FACEBOOK PROFIL", ig_profile: "INSTAGRAM PROFIL",
                gallery_share_title: "Podijelite trenutke s nama", gallery_share_desc: "Ako imate slike sa zabave koje nam ≈æelite poslati, kliknite na gumb ispod.", captcha_placeholder: "Kod sa slike", btn_upload: "PRILO≈ΩI DATOTEKE", captcha_correct: "‚úÖ Kod je toƒçan!", click_to_upload: "KLIKNI OVDJE ZA SLANJE",
                guestbook_title: "Va≈°e ≈æelje", btn_new_post: "‚ú® NOVA OBJAVA", label_table: "Stol:", opt_choose_table: "Odaberi stol...", label_name: "Va≈°e ime:", gb_name_placeholder: "Poƒçni tipkati...", label_msg: "Va≈°a poruka:", gb_msg_placeholder: "Napi≈°ite ne≈°to lijepo...", btn_publish: "OBJAVI", cancel: "Odustani",
                welcome_prefix: "Dobrodo≈°li, ", table_prefix: "STOL ", mates_text: "Za istim stolom sjede:", err_name: "Unesite ime.", err_not_found: "Ime nije pronaƒëeno.", status_sending: "Slanje...", status_success: "Uspje≈°no objavljeno!", status_error: "Gre≈°ka!", status_fill: "Popunite sva polja!",
                days_short: "d", hours_short: "h", mins_short: "m", secs_short: "s"
            },
            sr: {
                nav_home: "Poƒçetna", nav_table: "Naƒëi sto", nav_location: "Lokacija", nav_menu: "Meni", nav_music: "Muzika", nav_gallery: "Galerija", nav_guestbook: "Utisci",
                wedding_date: "29.08.2026 ‚Ä¢ 19:00ƒç", loading: "Uƒçitavanje...", story_title: "Na≈°a priƒça", story_text: "Dobrodo≈°li u na≈°u digitalnu pozivnicu! Radujemo se ≈°to ƒáemo ovaj poseban dan podeliti sa vama. Ovde mo≈æete naƒái sve informacije, videti meni ili nam ostaviti poruku.",
                btn_find_table: "NAƒêI SVOJ STO", btn_location: "LOKACIJA", btn_menu: "POGLEDAJ MENI", btn_party: "O ZABAVI", btn_gallery: "GALERIJA SLIKA", btn_guestbook: "KNJIGA UTISAKA",
                latest_wishes: "Najnovije ≈æelje", view_all: "Vidi sve utiske ‚Üí", loc_text: "Proslava ƒáe se odr≈æati u:", btn_open_maps: "OTVORI U GOOGLE MAPS", back: "‚Üê NAZAD",
                table_title: "Va≈° sto", table_desc: "Unesite svoje ime da saznate gde sedite.", input_name_placeholder: "Ime i prezime", search: "PRETRA≈ΩI", did_you_mean: "Da li ste mislili na:",
                menu_title: "Svadbeni meni", menu_1_t: "üç∏ Dobrodo≈°lica", menu_1_c: "Aperitiv i koktel dobrodo≈°lice uz hladne zakuske.", menu_2_t: "ü•ó Salata", menu_2_c: "≈†opska salata sa ovƒçijim sirom i makedonska daska (pr≈°uta, kaƒçkavalj, ajvar, masline).", menu_3_t: "üßÄ Toplo predjelo", menu_3_c: "Sarmice u lozovom listu i domaƒái pohovani kaƒçkavalj.", menu_4_t: "üçñ Glavno jelo", menu_4_c: "Me≈°ani ro≈°tilj sa prilogom od peƒçenog krompira i povrƒáa.", menu_5_t: "üç∞ Desert", menu_5_c: "Sveƒçana svadbena torta i sve≈æe sezonsko voƒáe.",
                music_desc: "Za pun podijum i nezaboravnu atmosferu zadu≈æeni su na≈°i prijatelji:", shoes_text: "Pripremite udobnu obuƒáu!", fb_profile: "FACEBOOK PROFIL", ig_profile: "INSTAGRAM PROFIL",
                gallery_share_title: "Podelite trenutke sa nama", gallery_share_desc: "Ako imate slike sa zabave koje ≈æelite da nam po≈°aljete, kliknite na dugme ispod.", captcha_placeholder: "Kod sa slike", btn_upload: "PRILO≈ΩI DATOTEKE", captcha_correct: "‚úÖ Kod je taƒçan!", click_to_upload: "KLIKNI OVDE ZA SLANJE",
                guestbook_title: "Va≈°e ≈æelje", btn_new_post: "‚ú® NOVA OBJAVA", label_table: "Sto:", opt_choose_table: "Izaberi sto...", label_name: "Va≈°e ime:", gb_name_placeholder: "Poƒçni da pi≈°e≈°...", label_msg: "Va≈°a poruka:", gb_msg_placeholder: "Napi≈°ite ne≈°to lepo...", btn_publish: "OBJAVI", cancel: "Otka≈æi",
                welcome_prefix: "Dobrodo≈°li, ", table_prefix: "STO ", mates_text: "Za istim stolom sede:", err_name: "Unesite ime.", err_not_found: "Ime nije pronaƒëeno.", status_sending: "Slanje...", status_success: "Uspe≈°no objavljeno!", status_error: "Gre≈°ka!", status_fill: "Popunite sva polja!",
                days_short: "d", hours_short: "ƒç", mins_short: "m", secs_short: "s"
            },
            sq: {
                nav_home: "Ballina", nav_table: "Gjej tryez√´n", nav_location: "Lokacioni", nav_menu: "Menuja", nav_music: "Muzika", nav_gallery: "Galeria", nav_guestbook: "P√´rshtypjet",
                wedding_date: "29.08.2026 ‚Ä¢ 19:00", loading: "Duke u ngarkuar...", story_title: "Historia Jon√´", story_text: "Mir√´ se vini n√´ ftes√´n ton√´ dixhitale! Jemi t√´ lumtur t√´ ndajm√´ k√´t√´ dit√´ t√´ ve√ßant√´ me ju. K√´tu mund t√´ gjeni t√´ gjitha informacionet, t√´ shihni menun√´ ose t√´ na lini nj√´ mesazh.",
                btn_find_table: "GJEJ TRYREZEN TUAJ", btn_location: "LOKACIONI", btn_menu: "SHIKO MENUN√ã", btn_party: "P√ãR FEST√ãN", btn_gallery: "GALERIA E FOTOVE", btn_guestbook: "LIBRI I P√ãRSHTYPJEVE",
                latest_wishes: "Urimet e fundit", view_all: "Shih t√´ gjitha p√´rshtypjet ‚Üí", loc_text: "Festa do t√´ mbahet n√´:", btn_open_maps: "HAP N√ã GOOGLE MAPS", back: "‚Üê MBRAPA",
                table_title: "Tryeza Juaj", table_desc: "Shkruani emrin tuaj p√´r t√´ zbuluar se ku jeni ulur.", input_name_placeholder: "Emri dhe Mbiemri", search: "K√ãRKO", did_you_mean: "A e kishit fjal√´n p√´r:",
                menu_title: "Menuja e Dasm√´s", menu_1_t: "üç∏ Mir√´seardhja", menu_1_c: "Aperitiv dhe koktej mir√´seardhjeje me ushqime t√´ ftohta.", menu_2_t: "ü•ó Sallata", menu_2_c: "Sallat√´ Shopska me djath√´ deleje dhe d√´rras√´ maqedonase (proshut√´, ka√ßkavall, ajvar, ullinj).", menu_3_t: "üßÄ Paraushqim i Ngroht√´", menu_3_c: "Sarma n√´ gjethe rrushi dhe ka√ßkavall sht√´pie i f√´rguar.", menu_4_t: "üçñ Pjata Kryesore", menu_4_c: "Mish i pjekur n√´ skar√´ (hamburger, qofte pule, veshalica) me patate t√´ pjekura dhe perime.", menu_5_t: "üç∞ Deserti", menu_5_c: "Tort√´ festive e dasm√´s dhe fruta t√´ fresk√´ta sezonale.",
                music_desc: "P√´r t√´ mbajtur pist√´n plot dhe atmosfer√´n e paharrueshme, miqt√´ tan√´ jan√´ n√´ krye:", shoes_text: "P√´rgatitni k√´puc√´t e rehatshme!", fb_profile: "PROFILI FACEBOOK", ig_profile: "PROFILI INSTAGRAM",
                gallery_share_title: "Ndani momentet me ne", gallery_share_desc: "N√´se keni foto nga festa q√´ d√´shironi t√´ na d√´rgoni, klikoni butonin m√´ posht√´.", captcha_placeholder: "Kodi nga imazhi", btn_upload: "NGARKONI SKEDAR√ãT", captcha_correct: "‚úÖ Kodi √´sht√´ i sakt√´!", click_to_upload: "KLIKO K√ãTU P√ãR T√ã NGARKUAR",
                guestbook_title: "Urimet Tuaja", btn_new_post: "‚ú® POSTIM I RI", label_table: "Tryeza:", opt_choose_table: "Zgjidh tryez√´n...", label_name: "Emri juaj:", gb_name_placeholder: "Fillo t√´ shkruash...", label_msg: "Mesazhi juaj:", gb_msg_placeholder: "Shkruani di√ßka t√´ bukur...", btn_publish: "PUBLIKO", cancel: "Anulo",
                welcome_prefix: "Mir√´ se vini, ", table_prefix: "TRYEZA ", mates_text: "N√´ t√´ nj√´jt√´n tryez√´ ulen:", err_name: "Ju lutemi shkruani emrin.", err_not_found: "Emri nuk u gjet.", status_sending: "Duke u d√´rguar...", status_success: "U publikua me sukses!", status_error: "Gabim!", status_fill: "Ju lutemi plot√´soni t√´ gjitha fushat!",
                days_short: "d", hours_short: "o", mins_short: "m", secs_short: "s"
            }
        };

        let currentLang = 'mk';

        function changeLang(lang) {
            currentLang = lang;
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                if (translations[lang][key]) el.innerText = translations[lang][key];
            });
            document.querySelectorAll('[data-placeholder]').forEach(el => {
                const key = el.getAttribute('data-placeholder');
                if (translations[lang][key]) el.placeholder = translations[lang][key];
            });
            
            document.querySelectorAll('.btn-lang').forEach(btn => {
                btn.classList.remove('active-lang');
                if(btn.innerText.toLowerCase() === lang) btn.classList.add('active-lang');
            });
            
            updateCountdown();
            if (document.getElementById('tablePage').classList.contains('active')) {
                document.getElementById('result').style.display = 'none';
            }
        }

        const apiURL = "https://script.google.com/macros/s/AKfycbwpm38mjJR0okEDqTPdRZWieQNLYrdCkjd_gVtm88ufcEj64anuJM6wTsO7Rs9Dp6w/exec"; 

        const weddingDate = new Date("August 29, 2026 19:00:00").getTime();
        let lastDataHash = "";

        const guestList = [
            { name: "–ì–æ—Ä–¥–∞–Ω–∞ –°—Ç–µ–≤—á–µ–≤–∞", table: 1 }, { name: "–î–∏–º–∏—Ç–∞—Ä –°—Ç–µ–≤—á–µ–≤", table: 1 },
            { name: "–É–æ–∫–µ –ì—Ä–≥—É—à–æ–≤—Å–∫–∏", table: 1 }, { name: "–ü–∞–º–µ–ª–∞ –†–∏—Å—Ç–æ–≤–∞", table: 1 },
            { name: "–í–∞—Å–∫–æ –°—Ç–µ–≤—á–µ–≤", table: 2 }, { name: "–ì–∞–±—Ä–∏–µ–ª–∞ –°—Ç–µ–≤—á–µ–≤–∞", table: 2 },
            { name: "–ö—Ä–∏—Å—Ç–∏–Ω–∞ –î–∏–º–∏—Ç—Ä–æ–≤–∞", table: 2 }, { name: "–†–æ–±–µ—Ä—Ç –î–∏–º–∏—Ç—Ä–æ–≤", table: 2 },
            { name: "–í–∞—Å–∏–ª–∏—ò –î–∏–º–∏—Ç—Ä–æ–≤", table: 2 }, { name: "–°–ø–∞—Å–∏—ò–∞ –î–∏–º–∏—Ç—Ä–æ–≤–∞", table: 2 },
            { name: "–â—É–ø—á–µ –í–∞—Å–∏–ª–µ–≤", table: 2 }, { name: "–à–æ—Å–∏—Ñ –ö—Ä—Å—Ç–µ–≤", table: 3 },
            { name: "–°–ª–∞–≤–∏—Ü–∞ –ö—Ä—Å—Ç–µ–≤–∞", table: 3 }, { name: "–ö—Ä–∏—Å—Ç–∏–Ω–∞ –ö—Ä—Å—Ç–µ–≤–∞", table: 3 },
            { name: "–°–ª–∞–≤–∫–æ –†–∞—Å—Ç–æ—á–∏—ú", table: 3 }
        ];

        function populateTableDropdown() {
            const select = document.getElementById('gbTableSelect');
            const tables = [...new Set(guestList.map(g => g.table))].sort((a,b) => a-b);
            tables.forEach(t => {
                const opt = document.createElement('option');
                opt.value = t;
                opt.textContent = translations[currentLang].table_prefix + t;
                select.appendChild(opt);
            });
        }

        window.onload = function() {
            loadAllMessages();
            populateTableDropdown();
            changeLang('mk');
        };

        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(p => p.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
            const logo = document.getElementById('mainLogo');
            const navIcon = document.getElementById('navIcon');
            if(pageId === 'homePage') { logo.className = 'main-header-img img-large'; navIcon.style.display = 'none'; }
            else { logo.className = 'main-header-img img-small'; navIcon.style.display = 'block'; }
            if(pageId === 'guestbookPage') loadAllMessages();
            if(pageId === 'galleryPage') generateUploadCaptcha();
            window.scrollTo(0, 0);
        }

        function openNav() { document.getElementById("mySidenav").style.width = "280px"; }
        function closeNav() { document.getElementById("mySidenav").style.width = "0"; }

        function updateCountdown() {
            const now = new Date().getTime();
            const d = weddingDate - now;
            if (d < 0) { document.getElementById("countdown").innerHTML = "‚ô•"; return; }
            const days = Math.floor(d/(1000*60*60*24));
            const hours = Math.floor((d%(1000*60*60*24))/(1000*60*60));
            const minutes = Math.floor((d%(1000*60*60))/(1000*60));
            const seconds = Math.floor((d%(1000*60))/1000);
            
            const t = translations[currentLang];
            document.getElementById("countdown").innerHTML = `${days}${t.days_short} ${hours}${t.hours_short} ${minutes}${t.mins_short} ${seconds}${t.secs_short}`;
        }
        setInterval(updateCountdown, 1000);

        function processEmoji(text, isAnimated) {
            if (!text) return "";
            const regex = /[\u{1F389}\u{1F38A}\u{1F942}\u{1F37B}\u{1F381}]/gu;
            return isAnimated ? text.replace(regex, m => `<span class="animated-emoji">${m}</span>`) : text;
        }

        async function loadAllMessages() {
            if (!apiURL || apiURL === "") return;
            try {
                const response = await fetch(apiURL + "?nocache=" + new Date().getTime());
                const data = await response.json();
                const currentHash = JSON.stringify(data);
                if (currentHash === lastDataHash) return;
                lastDataHash = currentHash;
                const rev = data.slice().reverse();
                
                document.getElementById('homeMessages').innerHTML = rev.slice(0, 5).map(m => `<div class="home-msg-item"><strong>${m.name}:</strong> ${processEmoji(m.message, true)}</div>`).join('');
                
                const fullList = document.getElementById('messagesList');
                if (fullList) {
                    fullList.innerHTML = rev.map(m => `<div style="border-bottom: 1px solid #f2e4e4; padding: 15px 0;"><strong style="color:var(--accent)">${m.name}:</strong><p style="margin:8px 0; line-height:1.5;">${processEmoji(m.message, false)}</p><small style="color:#bbb; font-size:0.75rem;">${m.date || ""}</small></div>`).join('');
                }
            } catch (e) { console.log("Load error", e); }
        }

        setInterval(loadAllMessages, 15000);

        function toggleGbForm() {
            const f = document.getElementById('gbFormContainer'); const b = document.getElementById('togglePostBtn');
            const s = document.getElementById('postStatus');
            s.style.display = "none";
            if (f.style.display === 'block') { f.style.display = 'none'; b.style.display = 'block'; }
            else { f.style.display = 'block'; b.style.display = 'none'; }
        }

        function resetGbNameField() {
            document.getElementById('gbNameInput').value = "";
            document.getElementById('gbDropdown').style.display = "none";
        }

        function handleGbSearch(val) {
            const table = document.getElementById('gbTableSelect').value;
            const drop = document.getElementById('gbDropdown');
            if (!table || val.length < 3) { drop.style.display = "none"; return; }
            
            const matches = guestList.filter(g => 
                g.table == table && simplify(g.name).includes(simplify(val))
            );

            if (matches.length > 0) {
                drop.innerHTML = matches.map(m => `<div onclick="selectGbGuest('${m.name}')">${m.name}</div>`).join('');
                drop.style.display = "block";
            } else {
                drop.style.display = "none";
            }
        }

        function selectGbGuest(name) {
            document.getElementById('gbNameInput').value = name;
            document.getElementById('gbDropdown').style.display = "none";
        }

        async function postMessage() {
            const rawName = document.getElementById('gbNameInput').value;
            const msg = document.getElementById('gbMessageInput').value;
            const table = document.getElementById('gbTableSelect').value;
            const status = document.getElementById('postStatus');
            const t = translations[currentLang];

            if (!rawName || !msg || !table) {
                status.style.display = "block"; status.style.color = "red";
                status.innerText = t.status_fill;
                return;
            }

            const simInput = simplify(rawName);
            let finalName = rawName;
            let bestMatch = null;
            let minScore = 5;

            guestList.forEach(g => {
                if(g.table == table) {
                    const score = getDist(simInput, simplify(g.name));
                    if(score < minScore) { minScore = score; bestMatch = g.name; }
                }
            });
            if(bestMatch) finalName = bestMatch;

            const nameParts = finalName.trim().split(" ");
            let loggedName = nameParts[0];
            if (nameParts.length > 1) {
                loggedName += " " + nameParts[1].charAt(0) + ".";
            }

            status.style.display = "block"; status.style.color = "orange";
            status.innerText = t.status_sending;

            const now = new Date();
            const timestamp = `${now.getHours()}:${now.getMinutes()}h ‚Ä¢ ${now.getDate()}/${now.getMonth()+1}/${now.getFullYear()}`;

            try {
                await fetch(apiURL, {
                    method: 'POST', mode: 'no-cors',
                    headers: {'Content-Type': 'application/json'},
                    body: JSON.stringify({ data: [{ name: loggedName, message: msg, table: table, date: timestamp }] })
                });
                status.style.color = "green"; status.innerText = t.status_success;
                setTimeout(() => { toggleGbForm(); loadAllMessages(); }, 1500);
            } catch(e) {
                status.style.color = "red"; status.innerText = t.status_error;
            }
        }

        function simplify(t) {
            const m = {'–∞':'a','–±':'b','–≤':'v','–≥':'g','–¥':'d','—ì':'gj','–µ':'e','–∂':'zh','–∑':'z','—ï':'dz','–∏':'i','—ò':'j','–∫':'k','–ª':'l','—ô':'lj','–º':'m','–Ω':'n','—ö':'nj','–æ':'o','–ø':'p','—Ä':'r','—Å':'s','—Ç':'t','—ú':'kj','—É':'u','—Ñ':'f','—Ö':'h','—Ü':'c','—á':'ch','—ü':'dz','—à':'sh'};
            return t.toLowerCase().trim().split('').map(c => m[c] || c).join('').replace(/ch/g,'c').replace(/sh/g,'s');
        }

        function getDist(a, b) {
            const matrix = [];
            for(let i=0; i<=b.length; i++) matrix[i] = [i];
            for(let j=0; j<=a.length; j++) matrix[0][j] = j;
            for(let i=1; i<=b.length; i++)
                for(let j=1; j<=a.length; j++)
                    matrix[i][j] = b.charAt(i-1) == a.charAt(j-1) ? matrix[i-1][j-1] : Math.min(matrix[i-1][j-1]+1, matrix[i][j-1]+1, matrix[i-1][j]+1);
            return matrix[b.length][a.length];
        }

        let uploadCap = "";
        function generateUploadCaptcha() {
            const c = document.getElementById("uploadCaptchaCanvas"); const ctx = c.getContext("2d");
            uploadCap = Math.random().toString(36).substring(2, 7).toUpperCase();
            ctx.clearRect(0,0,150,50); ctx.fillStyle = "#f2fdf2"; ctx.fillRect(0,0,150,50);
            ctx.font = "bold 26px Arial"; ctx.fillStyle = "#2e7d32"; ctx.fillText(uploadCap, 30, 35);
        }
        function verifyAndUpload() {
            if (document.getElementById('uploadCaptchaInput').value.toUpperCase() === uploadCap) {
                document.getElementById('uploadCaptchaArea').style.display = 'none';
                document.getElementById('uploadLink').style.display = 'block';
            } else { alert("Incorrect!"); generateUploadCaptcha(); }
        }

        let pendingName = "";
        function findTable(skip = false) {
            const raw = document.getElementById('guestNameSearch').value;
            const t = translations[currentLang];
            if (!raw.trim()) return alert(t.err_name);
            const sim = simplify(raw);
            const exact = guestList.find(g => simplify(g.name) === sim);
            if(exact) { showResult(exact); }
            else {
                let best = null, min = 4;
                guestList.forEach(g => { const d = getDist(sim, simplify(g.name)); if(d < min) { min = d; best = g; } });
                if(best) { pendingName = best.name; document.getElementById('suggestedName').innerText = best.name; document.getElementById('suggestionBox').style.display = 'block'; }
                else alert(t.err_not_found);
            }
        }
        function showResult(g) {
            const t = translations[currentLang];
            document.getElementById('welcomeMsg').innerText = t.welcome_prefix + g.name;
            document.getElementById('tableNumResult').innerText = t.table_prefix + g.table;
            const mates = guestList.filter(x => x.table === g.table && x.name !== g.name);
            document.getElementById('otherGuests').innerHTML = `<strong>${t.mates_text}</strong><br>` + mates.map(m => "‚Ä¢ " + m.name).join('<br>');
            document.getElementById('result').style.display = 'block';
            document.getElementById('suggestionBox').style.display = 'none';
        }
        function applySuggestion() { document.getElementById('guestNameSearch').value = pendingName; findTable(true); }
    </script>
</body>
</html>